!function(t,a){"function"==typeof define&&define.amd?define([],a):"object"==typeof exports?module.exports=a():t["captcha"]=a()}("undefined"!=typeof self?self:this,function(){let h={"equation":!0,"grid":!1,"reload":!0,"audio":!0,"hoverColor":"#00bcd4","refreshIcon":null,"audioIcon":null},l=0,r="",d=[["+",(t,a)=>t+a,"plus"],["-",(t,a)=>t-a,"minus"]],s="AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz";function e(){n()}function n(){let t="";var a,e,n,c,i=t=h.equation?(e=Math.floor(1e3*Math.random())+1,n=Math.floor(20*Math.random())+1,c=d[Math.floor(Math.random()*d.length)],e={equation:`${e} ${c[0]} `+n,result:c[1](e,n),t:`${e} ${c[2]} `+n},l=e.result,r=e.t,e.equation):(c=s[Math.floor(Math.random()*s.length)],n=Math.floor(10*Math.random()),e=Math.floor(10*Math.random()),a=s[Math.floor(Math.random()*s.length)],i=s[Math.floor(Math.random()*s.length)],o=Math.floor(10*Math.random()),a={result:c=c.toString()+n.toString()+e.toString()+a.toString()+i.toString()+o.toString(),t:function(a){let e="";for(let t=0;t<a.length;t++)isNaN(Number(a[t]))?a[t].toUpperCase()===a[t]?e+="Uppercase "+a[t]+" ":e+="Lowercase "+a[t]+" ":e+=a[t]+" ";return e}(c)},l=a.result,r=a.t,a.result),o=document.getElementById("captcha");(o=o.getContext("2d")).clearRect(0,0,110,30),o.font="24px Tahoma",o.fillText(i,5,20),o.beginPath(),(h.grid?(o.lineWidth=1.6,function(t){t.moveTo(10,0),t.lineTo(10,30),t.moveTo(20,0),t.lineTo(20,30),t.moveTo(30,0),t.lineTo(30,30),t.moveTo(40,0),t.lineTo(40,30),t.moveTo(50,0),t.lineTo(50,30),t.moveTo(0,10),t.lineTo(110,10),t.moveTo(0,20),t.lineTo(110,20),t.strokeStyle="black"}):function(t){t.arc(95,50,40,0,2*Math.PI),t.arc(75,30,40,0,2*Math.PI),t.arc(5,50,40,0,2*Math.PI),t.arc(95,60,40,0,2*Math.PI),t.arc(85,50,40,0,2*Math.PI),t.arc(80,60,40,0,2*Math.PI),t.arc(10,50,40,0,2*Math.PI),t.arc(15,50,45,0,2*Math.PI),t.arc(25,50,50,0,2*Math.PI)})(o),o.stroke()}function c(){var t=speechSynthesis,a=new SpeechSynthesisUtterance(r);a.rate=.5,t.speak(a)}function i(){var t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");t.appendChild(a),a.appendChild(document.createTextNode(`#captcha {
            border: 1px solid grey;
        }

        .icon-container {
            display: inline-block;
            cursor: pointer;
            width: inherit;
            height: inherit;
        }

        .icon-container svg {
            height: 32px;
        }

        .icon-container:hover svg {
            fill: ${h.hoverColor};
        } `))}return{"initiateCaptcha":function(t,a){h={...h,...a};var a=document.getElementById(t);i(),null===a?console.error("Unable to Find captcha container"):(a.innerHTML=(t=`<div id="reloadCaptcha" class="icon-container" title="Reload Captcha">
                        ${h.refreshIcon||'<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 128 128" viewBox="0 0 128 128" id="refresh" style="height:28px"><path d="M10.8 46.8c2.7-5.6 6.5-10.6 10.8-14.8 4.3-4.2 9.2-7.5 14.4-9.9 5.2-2.4 10.6-3.7 15.9-4.2 5.3-.4 10.6 0 15.6 1.4 5 1.3 9.5 3.5 13.5 6.3 2.3 1.6 4.4 3.4 6.3 5.4L71.3 41.5l39.9 8.1 8.1-39.9-13.5 8.9c-2.1-1.9-4.3-3.7-6.6-5.3-11.1-7.8-24.9-12-39.8-11C26.3 4.7 1.3 32.4 2.1 65.6c.1 3.5.5 7 1.1 10.4.1.6.9.9 1.4.6h0C4.9 76.3 5.1 76 5 75.7 4.4 65.5 6.5 55.4 10.8 46.8zM123.3 51.3L123.3 51.3c-.3.2-.4.5-.4.8.6 10.3-1.4 20.5-5.7 29-2.7 5.6-6.5 10.6-10.8 14.8-4.3 4.2-9.2 7.5-14.4 9.9-5.2 2.4-10.6 3.7-15.9 4.2-5.3.4-10.6 0-15.6-1.4-5-1.3-9.6-3.5-13.6-6.3-2.3-1.6-4.3-3.4-6.2-5.3l15.9-10.5-39.9-8.1-8.1 39.9 13.5-8.9c2 1.9 4.2 3.6 6.5 5.2 11.2 7.9 25.2 12.1 40.2 11 33.2-2.5 58.1-30.3 57-63.6-.1-3.5-.5-6.8-1.2-10.1C124.6 51.3 123.9 51 123.3 51.3z"></path></svg>'}
                    </div>`,a=`<div id="playCaptcha" class="icon-container" title="Spell Captcha">
                        ${h.audioIcon||'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="audio"><path d="M12 3a1 1 0 0 0-1 1V20a1 1 0 0 0 2 0V4A1 1 0 0 0 12 3zM8 5A1 1 0 0 0 7 6V18a1 1 0 0 0 2 0V6A1 1 0 0 0 8 5zM4 7A1 1 0 0 0 3 8v8a1 1 0 0 0 2 0V8A1 1 0 0 0 4 7zM16 5a1 1 0 0 0-1 1V18a1 1 0 0 0 2 0V6A1 1 0 0 0 16 5zM20 7a1 1 0 0 0-1 1v8a1 1 0 0 0 2 0V8A1 1 0 0 0 20 7z"></path></svg>'}
                    </div>`,`<div class="canvas-and-btn-container">
                    <canvas id="captcha" width="110" height="30">Sorry, your browser does not support canvas.</canvas >
                    ${h.reload?t:""}
                    ${h.audio?a:""}
                </div>
                <input class="captcha-answer-box" type="text" id="captchaValue" placeholder="Captcha Value" />`),n(),document.querySelector("#reloadCaptcha")?.addEventListener("click",e),document.querySelector("#playCaptcha")?.addEventListener("click",c))},"validateCaptcha":function(){let t=document.getElementById("captchaValue").value;return h.equation&&(t=Number(t)),!(!l||l!==t)||(n(),!1)}}});